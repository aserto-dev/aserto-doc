---
sidebar_label: Built-in Functions
title: Built-in Functions
description: Built-in Functions that can be used in your policy
---

# Built-in Functions

Aserto provides a set of built-in functions that can be used in your policy. These functions make it easier to leverage information found the Aserto directory.

:::note
The parameter passing convention has changed from positional arguments to a JSON map that contains named arguments.
:::

### `ds.identity`
```js
ds.identity({
  "id": "<value>"
})
```
Looks up a user identity by one of the ids (e.g. email address or PID), and returns the `id` of the user object.

For example: `ds.identity({ "id": "euang@acmecorp.com" })` will return `dfdadc39-7335-404d-af66-c77cf13a15f8`.

### `ds.object`
```js
ds.object({
  "object_type": "<type>",
  "object_id": "<id>",
  "with_relation": false
})
```
Returns an object instance looked up by the combination of `<type>` and `<id>`.

For example: `ds.object({ "type": "identity", "id": "euang@acmecorp.com" })` will return the identity object associated with Euan.

### `ds.relation`

```js
ds.relation({
  "object_id": "<object-id>",
  "object_type": "<object-type>",
  "relation": "<relation-name>",
  "subject_id": "<subject-id>",
  "subject_type": "<subject-type>",
  "subject_relation": "<subject-relation>",
  "with_objects": false
})
```
Returns the relation instance that connects the object with the subject through the relation.

### `ds.check`
```js
ds.check({
  "object_type":"<object-type>",
  "object_id": "<object-id>",
  "relation": "<relation-name>",
  "subject_type": "<subject-type>",
  "subject_id": "<subject-id>",
  "trace": false
})
```
An object can be identified by the combination of its `<object-type>` and `<object-id>`. The same is true for a subject.

`ds.check` returns `true` if the object instance has a relation of the type specified to the subject instance.


### `ds.check_relation`

```js
ds.check_relation({
  "object_type": "<object-type>",
  "object_id": "<object-id>",
  "relation": "<relation-name>",
  "subject_type": "<subject-type>",
  "subject_id": "<subject-id>",
  "trace": false
})
```
An object can be identified by the combination of its `<object-type>` and `<object-id>`. The same is true for a subject.

`ds.check_relation` returns `true` if the object instance has a relation of the type specified to the subject instance. 

### `ds.check_permission`

```js
ds.check_permission({
  "object_type": "<object-type>"
  "object_id": "<object-id>",
  "permission": "<permission-name>",
  "subject_type": "<subject-type>"
  "subject_id": "<subject-id>",
  "trace": false
})
```
An object can be identified by the combination of its `<object-type>` and `<object-id>`. The same is true for a subject.

`ds.check_permission` returns`true` if the subject has the permission `<permission-name>` referenced through one or more relations to the object.

### `ds.graph`

```js
ds.graph({
  "object_type": "<object-type>",
  "object_id": "<object-id>",
  "relation": "<relation-name>",
  "subject_type": "<subject-type>",
  "subject_id": "<subject-id>",
  "subject_relation": "<subject-relation>",
  "explain": false,
  "trace": false
})
```

Returns a list of objects that are found b searching the graph to find all object of a given type with a specified relation to a given subject or vice versa, all subjects of a given type that a specified object has a given relation to.